# Single Blog Post Template

## Описание

Страница single-blog создана для отображения отдельных постов блога в WordPress. Шаблон полностью адаптирован для WordPress с использованием ACF полей и стандартных WordPress функций.

## Структура файлов

### Основные файлы:

- `views/single-blog.php` - основной шаблон страницы поста
- `single.php` - WordPress шаблон, который подключает single-blog.php
- `acf-json/post-fields.json` - ACF поля для постов (категории, цвета, заголовки)
- `acf-json/single-blog-fields.json` - ACF поля для single-blog страницы

### Обновленные файлы:

- `functions.php` - добавлена загрузка ACF полей
- `header.php` - добавлены SEO мета-теги

## Решение проблемы с дублированием ACF полей

### Проблема:

При создании поста в WordPress админке появлялись дублирующиеся поля ACF, что создавало путаницу.

### Решение:

1. **Разделение полей:** Поля разделены на два отдельных JSON файла:

   - `post-fields.json` - базовые поля для постов
   - `single-blog-fields.json` - поля для single-blog страницы

2. **Организация файлов:** Все ACF JSON файлы перемещены в папку `acf-json/` для лучшей организации

3. **Уникальные ключи:** Все поля имеют уникальные ключи без дублирования

### Структура ACF полей:

#### Поля из post-fields.json:

- **Category Sticker** - кастомный текст для стикера категории
- **Category Color** - цвет категории (bg-orange, bg-green, bg-light-green, bg-blue)
- **Blog List Title** - кастомный заголовок для списка блогов
- **Blog List Subtitle** - кастомный подзаголовок для списка блогов

#### Поля из single-blog-fields.json:

- **Post Gallery** - галерея изображений для поста
- **Header Background Image** - изображение для фона заголовка
- **Content Image** - изображение с текстом вокруг в контенте
- **Content Section Title** - заголовок для секции с изображением и текстом
- **Content Section Text** - текст, который обтекает изображение
- **Meta Description** - SEO описание

## Функциональность

### Автоматическое определение цветов категорий:

- **Padoms** → bg-orange
- **Jaunums** → bg-blue
- **Noderīgi** → bg-light-green
- **Pieredzes stāsts** → bg-green

### SEO поддержка:

- Автоматические Open Graph теги
- Twitter Card теги
- Кастомные meta description
- Оптимизированные заголовки

### Галерея изображений:

- Swiper слайдер
- Fancybox для просмотра
- Автоматическая навигация

### Связанные посты:

- Исключает текущий пост
- Показывает до 8 постов
- Сортировка по дате (новые сначала)

## Использование

1. **Создание поста:**

   - Создайте новый пост в WordPress
   - Добавьте миниатюру (Featured Image)
   - Заполните ACF поля по необходимости

2. **Настройка категорий:**

   - Создайте категории с нужными названиями
   - Цвета будут назначены автоматически
   - Или используйте кастомные цвета через ACF

3. **Добавление галереи:**

   - В ACF поле "Post Gallery" добавьте изображения
   - Галерея появится после основного контента

4. **SEO оптимизация:**

   - Заполните "Meta Description" для лучшего SEO

## Отладка

Если возникают проблемы с ACF полями:

1. **Проверьте консоль браузера** на наличие ошибок JavaScript
2. **Проверьте логи WordPress** на наличие PHP ошибок
3. **Очистите кэш** WordPress и браузера

## Стили

Шаблон использует существующие CSS классы из темы:

- `.single-post-header` - заголовок поста
- `.post-category` - стикер категории
- `.inline-gallery-swiper` - галерея
- `.latest-posts` - секция связанных постов

## Совместимость

- WordPress 5.0+
- ACF Pro 5.0+
- Swiper.js
- Fancybox
- Bootstrap

## Примечания

- Все изображения оптимизированы для веб
- Поддерживается адаптивный дизайн
- Код соответствует стандартам WordPress
- Безопасность: все данные экранируются
